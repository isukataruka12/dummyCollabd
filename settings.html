<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Collabd</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                        <polyline points="7.5 4.21 12 6.81 16.5 4.21"/>
                        <polyline points="7.5 19.79 7.5 14.6 3 12"/>
                        <polyline points="21 12 16.5 14.6 16.5 19.79"/>
                        <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
                        <line x1="12" y1="22.08" x2="12" y2="12"/>
                    </svg>
                    Collabd
                </a>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="projects.html">Projects</a></li>
                    <li><a href="calendar.html">Calendar</a></li>
                    <li><a href="login.html">Login</a></li>
                    <li><a href="signup.html">Sign Up</a></li>
                    <li><a href="workspace.html">Workspace</a></li>
                    <li><a href="settings.html" class="active">Settings</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="section settings-container">
        <div class="container">
            <div class="section-title">
                <h2>Account Settings</h2>
                <p>Manage your account preferences and configurations</p>
            </div>
            
            <div class="settings-grid">
                <div class="settings-sidebar">
                    <div class="settings-menu">
                        <a href="#" class="active">Profile Settings</a>
                        <a href="#">Account Security</a>
                        <a href="#">Notifications</a>
                        <a href="#">Appearance</a>
                        <a href="#">Editor Preferences</a>
                        <a href="#">Integration Settings</a>
                        <a href="#">Billing</a>
                    </div>
                </div>
                
                <div class="settings-content">
                    <div class="settings-section">
                        <h2>Profile Settings</h2>
                        
                        <form onsubmit="return false;">
                            <div class="form-group">
                                <label for="fullname">Full Name</label>
                                <input type="text" id="fullname" class="form-control" value="John Doe">
                            </div>
                            
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" id="username" class="form-control" value="johndoe">
                            </div>
                            
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" class="form-control" value="john.doe@example.com">
                            </div>
                            
                            <div class="form-group">
                                <label for="bio">Bio</label>
                                <textarea id="bio" class="form-control" rows="4">Full-stack developer with a passion for clean code and user experience. Experienced with React, Node.js, and Python.</textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="location">Location</label>
                                <input type="text" id="location" class="form-control" value="San Francisco, CA">
                            </div>
                            
                            <div class="form-group">
                                <label for="github">GitHub Username</label>
                                <input type="text" id="github" class="form-control" value="johndoe">
                            </div>
                            
                            <div class="form-group">
                                <label for="discord">Discord Username</label>
                                <input type="text" id="discord" class="form-control" value="johndoe#1234">
                            </div>
                            
                            <button type="button" onclick="saveUserSettings(event)" class="btn">Save Changes</button>
                        </form>
                    </div>
                    
                    <div class="settings-section">
                        <h2>Profile Visibility</h2>
                        
                        <div class="toggle-switch">
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                            <label>Make profile public</label>
                        </div>
                        
                        <div class="toggle-switch">
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                            <label>Show email to team members</label>
                        </div>
                        
                        <div class="toggle-switch">
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                            <label>Show online status</label>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h2>Connected Accounts</h2>
                        
                        <div style="margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between; padding: 15px; background: var(--light-color); border-radius: 8px;">
                            <div style="display: flex; align-items: center;">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 30px; height: 30px; margin-right: 15px;">
                                    <path d="M23.15 2.587L18.21.21a1.494 1.494 0 0 0-1.705.29l-9.46 8.63-4.12-3.128a.999.999 0 0 0-1.276.057L.327 7.261A1 1 0 0 0 .326 8.74L3.899 12 .326 15.26a1 1 0 0 0 .001 1.479L1.65 17.94a.999.999 0 0 0 1.276.057l4.12-3.128 9.46 8.63a1.492 1.492 0 0 0 1.704.29l4.942-2.377A1.5 1.5 0 0 0 24 20.06V3.939a1.5 1.5 0 0 0-.85-1.352zm-5.146 14.861L10.826 12l7.178-5.448v10.896z" fill="#007ACC"/>
                                </svg>
                                <div>
                                    <div style="font-weight: 600;">Visual Studio Code</div>
                                    <div style="color: var(--gray-dark); font-size: 0.9rem;">Connected</div>
                                </div>
                            </div>
                            <button onclick="disconnectService('Visual Studio Code'); return false;" class="btn btn-outline" style="padding: 5px 15px; font-size: 0.9rem;">Disconnect</button>
                        </div>
                        
                        <div style="margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between; padding: 15px; background: var(--light-color); border-radius: 8px;">
                            <div style="display: flex; align-items: center;">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 30px; height: 30px; margin-right: 15px;">
                                    <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" fill="#181717"/>
                                </svg>
                                <div>
                                    <div style="font-weight: 600;">GitHub</div>
                                    <div style="color: var(--gray-dark); font-size: 0.9rem;">Connected</div>
                                </div>
                            </div>
                            <button onclick="disconnectService('GitHub'); return false;" class="btn btn-outline" style="padding: 5px 15px; font-size: 0.9rem;">Disconnect</button>
                        </div>
                        
                        <div style="margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between; padding: 15px; background: var(--light-color); border-radius: 8px;">
                            <div style="display: flex; align-items: center;">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 30px; height: 30px; margin-right: 15px;">
                                    <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.182 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z" fill="#5865F2"/>
                                </svg>
                                <div>
                                    <div style="font-weight: 600;">Discord</div>
                                    <div style="color: var(--gray-dark); font-size: 0.9rem;">Connected</div>
                                </div>
                            </div>
                            <button onclick="disconnectService('Discord'); return false;" class="btn btn-outline" style="padding: 5px 15px; font-size: 0.9rem;">Disconnect</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3>Collabd</h3>
                    <p>The all-in-one collaborative development platform that integrates VSCode, GitHub, and Discord.</p>
                    <div class="social-links">
                        <a href="#" class="social-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                            </svg>
                        </a>
                        <a href="#" class="social-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
                            </svg>
                        </a>
                        <a href="#" class="social-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                            </svg>
                        </a>
                        <a href="#" class="social-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                                <rect x="2" y="9" width="4" height="12"></rect>
                                <circle cx="4" cy="4" r="2"></circle>
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Features</h3>
                    <ul class="footer-links">
                        <li><a href="#">Integrated Coding</a></li>
                        <li><a href="#">Version Control</a></li>
                        <li><a href="#">Team Communication</a></li>
                        <li><a href="#">Project Management</a></li>
                        <li><a href="#">Calendar Integration</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Resources</h3>
                    <ul class="footer-links">
                        <li><a href="#">Documentation</a></li>
                        <li><a href="#">Tutorials</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Support</a></li>
                        <li><a href="#">Community</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul class="footer-links">
                        <li><a href="mailto:info@collabd.com">info@collabd.com</a></li>
                        <li><a href="tel:+1234567890">+1 (234) 567-890</a></li>
                        <li>123 Tech Street, San Francisco, CA 94107</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Collabd. All rights reserved.</p>
            </div>
        </div>
    </footer>
    <script src="main.js"></script>
    <script src="settings.js"></script>
    <script src="username-sync.js"></script>
    <!-- Add these scripts before your existing scripts -->
<script src="js/username-sync.js"></script>
<script src="js/github-integration.js"></script>
<script src="js/vscode-discord-integration.js"></script>
</body>
</html>














<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Collabd</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="settings.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">
                    <!-- Collabd Logo SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                        <polyline points="7.5 4.21 12 6.81 16.5 4.21"/>
                        <polyline points="7.5 19.79 7.5 14.6 3 12"/>
                        <polyline points="21 12 16.5 14.6 16.5 19.79"/>
                        <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
                        <line x1="12" y1="22.08" x2="12" y2="12"/>
                    </svg>
                    Collabd
                </a>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="projects.html">Projects</a></li>
                    <li><a href="workspace.html">Workspace</a></li>
                    <li><a href="calendar.html">Calendar</a></li>
                    <li><a href="settings.html" class="active">Settings</a></li>
                    <li><a href="#" class="user-profile">
                        <img src="https://i.pravatar.cc/150?img=5" alt="User Profile" class="profile-pic" id="nav-profile-pic">
                        <span id="nav-username">User</span>
                    </a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="settings-section">
        <div class="container">
            <div class="settings-container">
                <div class="settings-sidebar">
                    <div class="user-info">
                        <div class="profile-image">
                            <img src="https://i.pravatar.cc/150?img=5" alt="Profile Picture" id="sidebar-profile-pic">
                            <button class="change-photo-btn">
                                <i class="fas fa-camera"></i>
                            </button>
                        </div>
                        <h3 id="sidebar-username">Username</h3>
                        <p id="sidebar-email">user@example.com</p>
                    </div>
                    <div class="settings-nav">
                        <a href="#profile" class="settings-nav-item active">
                            <i class="fas fa-user"></i> Profile
                        </a>
                        <a href="#account" class="settings-nav-item">
                            <i class="fas fa-cog"></i> Account
                        </a>
                        <a href="#integrations" class="settings-nav-item">
                            <i class="fas fa-plug"></i> Integrations
                        </a>
                        <a href="#notifications" class="settings-nav-item">
                            <i class="fas fa-bell"></i> Notifications
                        </a>
                        <a href="#privacy" class="settings-nav-item">
                            <i class="fas fa-shield-alt"></i> Privacy
                        </a>
                    </div>
                </div>
                
                <div class="settings-content">
                    <form id="settings-form">
                        <!-- Profile Section -->
                        <div class="settings-section" id="profile">
                            <h2>Profile Settings</h2>
                            <p>Update your personal information</p>
                            
                            <div class="form-group">
                                <label for="fullname">Full Name</label>
                                <input type="text" id="fullname" name="fullname" placeholder="Your full name">
                            </div>
                            
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" id="username" name="username" placeholder="Your username">
                            </div>
                            
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" name="email" placeholder="Your email address">
                            </div>
                            
                            <div class="form-group">
                                <label for="bio">Bio</label>
                                <textarea id="bio" name="bio" placeholder="Tell us about yourself"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="location">Location</label>
                                <input type="text" id="location" name="location" placeholder="Your location">
                            </div>
                        </div>
                        
                        <!-- Integrations Section -->
                        <div class="settings-section" id="integrations">
                            <h2>Integrations</h2>
                            <p>Connect your development tools</p>
                            
                            <div class="integration-card">
                                <div class="integration-header">
                                    <div class="integration-title">
                                        <i class="fas fa-code"></i>
                                        <h3>Visual Studio Code</h3>
                                    </div>
                                    <div class="integration-status vscode-status">Not Connected</div>
                                </div>
                                <div class="integration-body">
                                    <p>Connect VS Code to edit your code directly in the browser.</p>
                                    <div class="integration-actions">
                                        <button type="button" class="btn btn-primary connect-btn" id="connect-vscode">Connect</button>
                                        <button type="button" class="btn btn-outline disconnect-btn" id="disconnect-vscode" onclick="disconnectService('VSCode')">Disconnect</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="integration-card">
                                <div class="integration-header">
                                    <div class="integration-title">
                                        <i class="fab fa-github"></i>
                                        <h3>GitHub</h3>
                                    </div>
                                    <div class="integration-status github-status">Not Connected</div>
                                </div>
                                <div class="integration-body">
                                    <p>Connect your GitHub account to access repositories.</p>
                                    <div class="form-group">
                                        <label for="github">GitHub Username</label>
                                        <input type="text" id="github" name="github" placeholder="Your GitHub username">
                                    </div>
                                    <div class="integration-actions">
                                        <button type="button" class="btn btn-primary connect-btn" id="connect-github">Connect</button>
                                        <button type="button" class="btn btn-outline disconnect-btn" id="disconnect-github" onclick="disconnectService('GitHub')">Disconnect</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="integration-card">
                                <div class="integration-header">
                                    <div class="integration-title">
                                        <i class="fab fa-discord"></i>
                                        <h3>Discord</h3>
                                    </div>
                                    <div class="integration-status discord-status">Not Connected</div>
                                </div>
                                <div class="integration-body">
                                    <p>Connect Discord to collaborate with your team in real-time.</p>
                                    <div class="form-group">
                                        <label for="discord">Discord Username</label>
                                        <input type="text" id="discord" name="discord" placeholder="Your Discord username">
                                    </div>
                                    <div class="integration-actions">
                                        <button type="button" class="btn btn-primary connect-btn" id="connect-discord">Connect</button>
                                        <button type="button" class="btn btn-outline disconnect-btn" id="disconnect-discord" onclick="disconnectService('Discord')">Disconnect</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Privacy Section -->
                        <div class="settings-section" id="privacy">
                            <h2>Privacy Settings</h2>
                            <p>Control your privacy preferences</p>
                            
                            <div class="privacy-option">
                                <div class="privacy-text">
                                    <h3>Profile Visibility</h3>
                                    <p>Allow other users to view your profile</p>
                                </div>
                                <div class="switch">
                                    <input type="checkbox" id="profile-visibility" name="profile-visibility" checked>
                                    <label for="profile-visibility"></label>
                                </div>
                            </div>
                            
                            <div class="privacy-option">
                                <div class="privacy-text">
                                    <h3>Email Visibility</h3>
                                    <p>Show your email address to other users</p>
                                </div>
                                <div class="switch">
                                    <input type="checkbox" id="email-visibility" name="email-visibility" checked>
                                    <label for="email-visibility"></label>
                                </div>
                            </div>
                            
                            <div class="privacy-option">
                                <div class="privacy-text">
                                    <h3>Online Status</h3>
                                    <p>Show when you're online to other users</p>
                                </div>
                                <div class="switch">
                                    <input type="checkbox" id="online-status" name="online-status">
                                    <label for="online-status"></label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-actions">
                            <button type="submit" class="btn btn-primary">Save Changes</button>
                            <button type="reset" class="btn btn-outline">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3>Collabd</h3>
                    <p>The all-in-one collaborative development platform that integrates VSCode, GitHub, and Discord.</p>
                    <div class="social-links">
                        <a href="#" class="social-icon">
                            <!-- Social icon -->
                        </a>
                    </div>
                </div>
                <div class="footer-column">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="projects.html">Projects</a></li>
                        <li><a href="workspace.html">Workspace</a></li>
                        <li><a href="settings.html">Settings</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Contact</h4>
                    <p>Email: support@collabd.dev</p>
                    <p>Phone: +123-456-7890</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Collabd. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/collabd-integration.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize settings page
            initSettingsPage();
            
            // Set up settings navigation
            const navItems = document.querySelectorAll('.settings-nav-item');
            const sections = document.querySelectorAll('.settings-section');
            
            navItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Update active nav item
                    navItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding section
                    const targetId = this.getAttribute('href').substring(1);
                    sections.forEach(section => {
                        section.style.display = section.id === targetId ? 'block' : 'none';
                    });
                });
            });
            
            // Set up connect buttons
            document.getElementById('connect-vscode').addEventListener('click', function() {
                connectVSCode();
                updateConnectionStatus();
            });
            
            document.getElementById('connect-github').addEventListener('click', function() {
                const githubUsername = document.getElementById('github').value;
                if (githubUsername) {
                    // Update user data with GitHub username
                    CollabdUser.updateUser({ github: githubUsername });
                    connectGitHub();
                    updateConnectionStatus();
                } else {
                    alert('Please enter your GitHub username');
                }
            });
            
            document.getElementById('connect-discord').addEventListener('click', function() {
                const discordUsername = document.getElementById('discord').value;
                if (discordUsername) {
                    // Update user data with Discord username
                    CollabdUser.updateUser({ discord: discordUsername });
                    connectDiscord();
                    updateConnectionStatus();
                } else {
                    alert('Please enter your Discord username');
                }
            });
            
            // Handle form submission
            document.getElementById('settings-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form values
                const fullName = document.getElementById('fullname').value;
                const username = document.getElementById('username').value;
                const email = document.getElementById('email').value;
                const bio = document.getElementById('bio').value;
                const location = document.getElementById('location').value;
                const github = document.getElementById('github').value;
                const discord = document.getElementById('discord').value;
                
                // Get toggle states
                const profileVisible = document.getElementById('profile-visibility').checked;
                const showEmail = document.getElementById('email-visibility').checked;
                const showOnlineStatus = document.getElementById('online-status').checked;
                
                // Create updated user data object
                const userData = {
                    fullName: fullName,
                    username: username,
                    email: email,
                    bio: bio,
                    location: location,
                    github: github,
                    discord: discord,
                    profileVisible: profileVisible,
                    showEmail: showEmail,
                    showOnlineStatus: showOnlineStatus
                };
                
                // Save updated user data
                CollabdUser.saveUserData(userData);
                
                // Update service connections based on GitHub/Discord usernames
                if (github) {
                    ServiceIntegration.connectService('github', github);
                }
                
                if (discord) {
                    ServiceIntegration.connectService('discord', discord);
                }
                
                // Update UI
                updateUsername(username);
                updateConnectionStatus();
                
                // Show success message
                alert('Your settings have been saved successfully!');
            });
        });
        
        function initSettingsPage() {
            // Load user data
            const userData = CollabdUser.getCurrentUser();
            if (userData) {
                // Update form fields
                document.getElementById('fullname').value = userData.fullName || '';
                document.getElementById('username').value = userData.username || '';
                document.getElementById('email').value = userData.email || '';
                document.getElementById('bio').value = userData.bio || '';
                document.getElementById('location').value = userData.location || '';
                document.getElementById('github').value = userData.github || '';
                document.getElementById('discord').value = userData.discord || '';
                
                // Update toggles
                document.getElementById('profile-visibility').checked = userData.profileVisible !== false;
                document.getElementById('email-visibility').checked = userData.showEmail !== false;
                document.getElementById('online-status').checked = userData.showOnlineStatus === true;
                
                // Update username display
                updateUsername(userData.username);
            }
            
            // Update connection status
            updateConnectionStatus();
            
            // Display initial section (Profile)
            document.querySelectorAll('.settings-section').forEach(section => {
                section.style.display = section.id === 'profile' ? 'block' : 'none';
            });
        }
        
        function updateUsername(username) {
            const usernameDisplays = [
                document.getElementById('nav-username'),
                document.getElementById('sidebar-username')
            ];
            
            usernameDisplays.forEach(elem => {
                if (elem) elem.textContent = username || 'User';
            });
            
            // Update email display
            const userData = CollabdUser.getCurrentUser();
            const emailElem = document.getElementById('sidebar-email');
            if (emailElem && userData?.email) {
                emailElem.textContent = userData.email;
            }
            
            // Generate consistent profile picture
            if (username) {
                const hash = username.charCodeAt(0) % 70 || 5;
                const profilePics = [
                    document.getElementById('nav-profile-pic'),
                    document.getElementById('sidebar-profile-pic')
                ];
                
                profilePics.forEach(pic => {
                    if (pic) pic.src = `https://i.pravatar.cc/150?img=${hash}`;
                });
            }
        }
        
        function updateConnectionStatus() {
            const connections = ServiceIntegration.getAllConnections();
            
            ['vscode', 'github', 'discord'].forEach(service => {
                const statusElem = document.querySelector(`.${service}-status`);
                if (statusElem) {
                    const isConnected = connections[service]?.connected === true;
                    statusElem.textContent = isConnected ? 'Connected' : 'Not Connected';
                    statusElem.className = `integration-status ${service}-status ${isConnected ? 'connected' : 'not-connected'}`;
                    
                    // Show/hide buttons based on connection status
                    const connectBtn = document.getElementById(`connect-${service}`);
                    const disconnectBtn = document.getElementById(`disconnect-${service}`);
                    
                    if (connectBtn) connectBtn.style.display = isConnected ? 'none' : 'inline-block';
                    if (disconnectBtn) disconnectBtn.style.display = isConnected ? 'inline-block' : 'none';
                }
            });
        }
    </script>
</body>
</html> -->